= Структура модуля

Модуль _{am}_ включает следующие серверные компоненты:

. Библиотека карточек _{am}_, включающая карточки:
+
* _Архивное дело_.
* _Номенклатура дел_.
+
. Загружаемые в справочники {dv} настройки:
+
* В Справочник видов карточек: базовый вид карточки _Архивное дело_.
* В Конструктор состояний: автомат состояний карточки _Архивное дело_.
* В Конструктор ролей: стандартную роль _Ответственный за Дело_ для карточки _Архивное дело_.

[#roles]
== Роли сотрудников

Для настройки ролевой безопасности модуля _{am}_ предоставляется единственная рольfootnote:[Администратором могут быть созданы дополнительные роли.] _Ответственный за Дело_, которая ограничивает права на выполнение операций с карточкой _Архивное дело_. В данную роль включаются сотрудники, указанные ответственными за дело (поле _Ответственные за дело_ карточки).

Сотрудники с ролью _Ответственный за Дело_ могут выполнять операции по следующей схеме:

* Чтение карточки с состоянием: `Проект`, `Утверждено` и `Закрыто`.
* Изменение карточки с состоянием: `Проект`, `Утверждено` и `Закрыто`.
* Удаление карточки с состоянием: `Закрыто`.
* Утверждение _Дела_ с состоянием: `Проект`.
* Закрытие дела с состоянием: `Проект` и `Утверждено`.
* Возврат _Дела_ в состояние `Проект` из состояний: `Закрыто` и `Утверждено`.
* Возврат `Дела` в состояние `Утверждено` из состояния: `Закрыто`.
* Списание Документов в _Дело_ с состояниями: `Утверждено` и `Закрыто`.
* Удаление Документов из Дела с состояниями: `Утверждено` и `Закрыто`.

[#states]
== Автомат состояний

Изменение состояний карточки _Архивное дело_ в процессе работы определяется автоматом состояний, включающим следующие состояния:

* `Проект` -- начальное состояние дела.
* `Утверждено`.
* `Закрыто`.

Изменение состояний выполняется по приведённой схеме.

.Автомат состояний карточки "Архивное дело"
image::admin:states.png[Автомат состояний карточки "Архивное дело"]
